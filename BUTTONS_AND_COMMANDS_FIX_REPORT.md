# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –≤ –±–æ—Ç–µ "–õ–µ—Å –∏ –í–æ–ª–∫–∏".

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### 1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

### 2. **–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –∞—Ç—Ä–∏–±—É—Ç `bot_token`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í –∫–ª–∞—Å—Å–µ `ForestMafiaBot` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –∞—Ç—Ä–∏–±—É—Ç `bot_token`
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `bot.py`, —Å—Ç—Ä–æ–∫–∞ 47
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω `self.bot_token = BOT_TOKEN` –≤ –º–µ—Ç–æ–¥ `__init__`

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `send_roles_to_players`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í –º–µ—Ç–æ–¥–µ `start_game_common` –≤—ã–∑—ã–≤–∞–ª—Å—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `send_roles_to_players`
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `bot.py`, —Å—Ç—Ä–æ–∫–∞ 2777
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `send_roles_to_players` (—Å—Ç—Ä–æ–∫–∏ 2782-2798)

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ `start_night_phase`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–µ—Ç–æ–¥ `start_night_phase` –æ–∂–∏–¥–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `update`, –Ω–æ –ø–æ–ª—É—á–∞–ª —Ç–æ–ª—å–∫–æ `context` –∏ `game`
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `bot.py`, —Å—Ç—Ä–æ–∫–∞ 2780
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω –≤—ã–∑–æ–≤ –Ω–∞ `await self.start_night_phase(update_or_query, context, game)`

#### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π callback query –≤ `start_night_phase`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–µ—Ç–æ–¥ `start_night_phase` –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å callback query
- **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `bot.py`, —Å—Ç—Ä–æ–∫–∏ 1372-1402
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `callback_query` –≤ —É—Å–ª–æ–≤–∏–∏

### 3. **–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã**

#### `test_simple_commands.py`
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –±–æ—Ç–∞
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥

#### `test_buttons_detailed.py`
- –î–µ—Ç–∞–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–Ω–æ–ø–æ–∫
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–≥—Ä–æ–∫–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã

#### `test_callback_handlers.py`
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ callback'–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç callback 'join_game'
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç callback 'start_game'
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

### 4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã: ‚úÖ 5/5 –ø—Ä–æ–π–¥–µ–Ω–æ
- –ò–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥

#### –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∫–Ω–æ–ø–æ–∫: ‚úÖ 3/3 –ø—Ä–æ–π–¥–µ–Ω–æ
- –ö–Ω–æ–ø–∫–∏ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å 6 –∏–≥—Ä–æ–∫–∞–º–∏
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã

#### –¢–µ—Å—Ç—ã callback'–æ–≤: ‚úÖ 4/4 –ø—Ä–æ–π–¥–µ–Ω–æ
- Callback 'join_game'
- Callback 'start_game'
- Callback –±–µ–∑ –∏–≥—Ä—ã
- Callback —Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–≥—Ä–æ–∫–æ–≤

## üéÆ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
- ‚úÖ `/start` - –ù–∞—á–∏–Ω–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ –∏–≥—Ä—É
- ‚úÖ `/join` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ
- ‚úÖ `/start_game` - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
- ‚úÖ `/leave` - –ü–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É
- ‚úÖ `/end_game` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
- ‚úÖ `/rules` - –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
- ‚úÖ `/help` - –ü–æ–º–æ—â—å
- ‚úÖ `/status` - –°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
- ‚úÖ `/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã

### –ö–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
- ‚úÖ **"–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **"–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **"–ü–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ—é —Ä–æ–ª—å"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **"–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É"** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
- ‚úÖ `join_game` - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ
- ‚úÖ `start_game` - –Ω–∞—á–∞–ª–æ –∏–≥—Ä—ã
- ‚úÖ `leave_registration` - –ø–æ–∫–∏–¥–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ `end_game` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
- ‚úÖ `view_my_role` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–æ–ª–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `bot.py` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `send_roles_to_players()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–æ–ª–µ–π –∏–≥—Ä–æ–∫–∞–º

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback query –≤ `start_night_phase`
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ–∂–¥—É –º–µ—Ç–æ–¥–∞–º–∏

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤**: 12
- **–ü—Ä–æ–π–¥–µ–Ω–æ**: 12 ‚úÖ
- **–ù–µ –ø—Ä–æ–π–¥–µ–Ω–æ**: 0 ‚ùå
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º**: 4
- **–°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**: 3

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –±–æ—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

1. ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
3. ‚úÖ Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
4. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
5. ‚úÖ –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ë–æ—Ç "–õ–µ—Å –∏ –í–æ–ª–∫–∏" —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ!

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: 05.09.2025*  
*–°—Ç–∞—Ç—É—Å: –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã* ‚úÖ
