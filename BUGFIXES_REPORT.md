# üêõ –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

## ‚úÖ –°—Ç–∞—Ç—É—Å: –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´

–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: 2024-12-19

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –¥–ª—è —É–º–µ—Ä—à–∏—Ö –∏ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –£–º–µ—Ä—à–∏–µ –∏ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –∏–≥—Ä–æ–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞–ª–∏ –Ω–∞–≥—Ä–∞–¥—É –æ—Ä–µ—à–∫–∏ –∏–∑-–∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–∞—Ç–∞.

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –í –∫–æ–¥–µ –±—ã–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `dead_rewards_enabled` –∏ `loser_rewards_enabled`, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —É–º–µ—Ä—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ - —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç 25 –æ—Ä–µ—à–∫–æ–≤
- –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ - —Ç–µ–ø–µ—Ä—å –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏

**–§–∞–π–ª**: `bot.py`, –º–µ—Ç–æ–¥ `award_nuts_for_game`
**–°—Ç—Ä–æ–∫–∏**: 1362-1367

```python
# –ú–µ—Ä—Ç–≤—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç 25 –æ—Ä–µ—à–∫–æ–≤ (–≤—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫)
nuts_amount = 25
logger.info(f"üíÄ –ò–≥—Ä–æ–∫ {display_name} - –º–µ—Ä—Ç–≤—ã–π, –ø–æ–ª—É—á–∞–µ—Ç 25 –æ—Ä–µ—à–∫–æ–≤")

# –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –∏–≥—Ä–æ–∫–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã (—É–±–∏—Ä–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫)
# –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å —Ç–µ–º, —á—Ç–æ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –æ—Ä–µ—à–∫–∏
```

### 2. ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–Ω–æ–ø–∫–æ–π –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É –≤–æ–ª–∫–æ–≤ –Ω–æ—á—å—é

**–ü—Ä–æ–±–ª–µ–º–∞**: –£ –≤–æ–ª–∫–∞ –Ω–æ—á—å—é –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥" - –ø–æ—è–≤–ª—è–ª–∞—Å—å –æ—à–∏–±–∫–∞ "–ù–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã!".

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –í `callback_handler.py` –Ω–µ –±—ã–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è callback'–æ–≤ —Ç–∏–ø–∞ `wolf_skip`, `fox_skip`, `beaver_skip`, `mole_skip`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–ø—É—Å–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –≤ `_setup_handlers`
- –¢–µ–ø–µ—Ä—å callback'—ã `wolf_skip`, `fox_skip`, `beaver_skip`, `mole_skip` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–§–∞–π–ª**: `callback_handler.py`, –º–µ—Ç–æ–¥ `_setup_handlers`
**–°—Ç—Ä–æ–∫–∏**: 70-73

```python
"wolf_skip": self._handle_wolf_action,
"fox_skip": self._handle_fox_action,
"mole_skip": self._handle_mole_action,
"beaver_skip": self._handle_beaver_action,
```

### 3. ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ—Ä—Ç–≤—ã–º –±–æ–±—Ä–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–æ–±—Ä–∞–º –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–µ–π –∏ –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —Ö–æ—Ç—è –æ–Ω–∏ —É–∂–µ –º–µ—Ä—Ç–≤—ã.

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –í –º–µ—Ç–æ–¥–µ `send_roles_to_players` –Ω–µ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å –∂–∏–∑–Ω–∏ –∏–≥—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if not player.is_alive` –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –ú–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

**–§–∞–π–ª**: `bot.py`, –º–µ—Ç–æ–¥ `send_roles_to_players`
**–°—Ç—Ä–æ–∫–∏**: 5576-5579

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–≥—Ä–æ–∫ –∂–∏–≤ - –º–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
if not player.is_alive:
    logger.info(f"üíÄ –ò–≥—Ä–æ–∫ {player.user_id} ({player.role}) –º–µ—Ä—Ç–≤, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö")
    continue
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–ù–∞–≥—Ä–∞–¥—ã –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤** - —Ç–µ–ø–µ—Ä—å —É–º–µ—Ä—à–∏–µ –∏ –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –∏–≥—Ä–æ–∫–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞—é—Ç –æ—Ä–µ—à–∫–∏
2. **–ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É –≤–æ–ª–∫–æ–≤** - —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
3. **–°–æ–æ–±—â–µ–Ω–∏—è –º–µ—Ä—Ç–≤—ã–º –∏–≥—Ä–æ–∫–∞–º** - –º–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö

### üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ù–∞–≥—Ä–∞–¥—ã**: –í—Å–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–≥—Ä–∞–¥—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–∞—Ç–∞
2. **–ü—Ä–æ–ø—É—Å–∫ —Ö–æ–¥–∞**: Callback'—ã –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
3. **–ú–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏–∑–Ω–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π

### üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ –£–º–µ—Ä—à–∏–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç 25 –æ—Ä–µ—à–∫–æ–≤
- ‚úÖ –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç 50 –æ—Ä–µ—à–∫–æ–≤
- ‚úÖ –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç 100 –æ—Ä–µ—à–∫–æ–≤
- ‚úÖ –í–æ–ª–∫–∏ –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–æ—á—å
- ‚úÖ –ú–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö
- ‚úÖ –í—Å–µ —Ä–æ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Ö–æ–¥

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–¢–µ—Å—Ç –Ω–∞–≥—Ä–∞–¥**: –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∏–≥—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∏–ª–∏ –æ—Ä–µ—à–∫–∏
2. **–¢–µ—Å—Ç –ø—Ä–æ–ø—É—Å–∫–∞ —Ö–æ–¥–∞**: –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É, –¥–æ–∂–¥–∏—Ç–µ—Å—å –Ω–æ—á–∏, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥ –≤–æ–ª–∫–æ–º
3. **–¢–µ—Å—Ç –º–µ—Ä—Ç–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤**: –£–±–µ–π—Ç–µ –∏–≥—Ä–æ–∫–∞, –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–ª–µ–¥—É—é—â–µ–π –Ω–æ—á–∏ - –º–µ—Ä—Ç–≤—ã–π –∏–≥—Ä–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –ë–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
- –ù–∞–≥—Ä–∞–¥—ã –≤—ã–¥–∞—é—Ç—Å—è –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º
- –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- –ú–µ—Ä—Ç–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –ª–∏—à–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫*
