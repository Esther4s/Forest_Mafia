# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–∞—è –ª–æ–≥–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è**: –ï—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ, –∞ –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª –∑–∞ –∫–æ–≥–æ-—Ç–æ, —Ç–æ –µ–≥–æ –≥–æ–ª–æ—Å –∑–∞—Å—á–∏—Ç—ã–≤–∞–ª—Å—è –∫–∞–∫ —Ä–µ—à–µ–Ω–∏–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:
- 6 –∏–≥—Ä–æ–∫–æ–≤ –≤ –∏–≥—Ä–µ
- 5 –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
- 1 –∏–≥—Ä–æ–∫ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª –∑–∞ Player2
- **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–æ–Ω—è–ª—Å—è (1 –≥–æ–ª–æ—Å)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –≠—Ç–æ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ, —Ç–∞–∫ –∫–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–µ —Ö–æ—Ç–µ–ª–æ –Ω–∏–∫–æ–≥–æ –∏–∑–≥–æ–Ω—è—Ç—å

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞ –ø—Ä–æ–ø—É—Å–∫**: –ï—Å–ª–∏ –≥–æ–ª–æ—Å–æ–≤ –∑–∞ –ø—Ä–æ–ø—É—Å–∫ –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ –≥–æ–ª–æ—Å–∞–º –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –≥–æ–ª–æ—Å–æ–≤**: –ï—Å–ª–∏ –≥–æ–ª–æ—Å–æ–≤ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ –º–µ–Ω—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã –æ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏—á—å–∏**: –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ–ª—É—á–∏–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ–ª–æ—Å–æ–≤ - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è

### –ê–ª–≥–æ—Ä–∏—Ç–º:
```python
def process_voting(self) -> Optional[Player]:
    # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –≥–æ–ª–æ—Å–∞
    total_votes = len(self.votes)
    vote_counts = {}  # –≥–æ–ª–æ—Å–∞ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
    skip_votes = 0    # –≥–æ–ª–æ—Å–∞ –∑–∞ –ø—Ä–æ–ø—É—Å–∫
    
    for target_id in self.votes.values():
        if target_id is not None:
            vote_counts[target_id] = vote_counts.get(target_id, 0) + 1
        else:
            skip_votes += 1
    
    votes_for_exile = sum(vote_counts.values())
    
    # –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê:
    # 1. –ï—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –ø—Ä–æ–ø—É—Å–∫ - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è
    if skip_votes >= votes_for_exile:
        return None
        
    # 2. –ï—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–ª–æ—Å–æ–≤ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è
    if votes_for_exile < total_votes / 2:
        return None
    
    # 3. –ï—Å–ª–∏ –Ω–∏—á—å—è - –Ω–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è
    max_votes = max(vote_counts.values())
    max_vote_players = [pid for pid, votes in vote_counts.items() if votes == max_votes]
    if len(max_vote_players) > 1:
        return None
    
    # 4. –ò–∑–≥–æ–Ω—è–µ–º –∏–≥—Ä–æ–∫–∞ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ–ª–æ—Å–æ–≤
    exiled_id = max_vote_players[0]
    exiled_player = self.players[exiled_id]
    exiled_player.is_alive = False
    return exiled_player
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –ø—Ä–æ–ø—É—Å–∫
- **–ì–æ–ª–æ—Å–∞**: 1 –∑–∞ Player2, 5 –ø—Ä–æ–ø—É—Å–∫–æ–≤
- **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–Ω–∞–Ω ‚ùå
- **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**: –ù–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–Ω–∞–Ω ‚úÖ
- **–ü—Ä–∏—á–∏–Ω–∞**: 5 –ø—Ä–æ–ø—É—Å–∫–æ–≤ > 1 –≥–æ–ª–æ—Å –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–ª–æ—Å–æ–≤ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ
- **–ì–æ–ª–æ—Å–∞**: 2 –∑–∞ Player2, 4 –ø—Ä–æ–ø—É—Å–∫–∞
- **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–Ω–∞–Ω ‚ùå
- **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**: –ù–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–Ω–∞–Ω ‚úÖ
- **–ü—Ä–∏—á–∏–Ω–∞**: 2 –≥–æ–ª–æ—Å–∞ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ < 6/2 = 3

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ
- **–ì–æ–ª–æ—Å–∞**: 4 –∑–∞ Player2, 2 –ø—Ä–æ–ø—É—Å–∫–∞
- **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–Ω–∞–Ω ‚úÖ
- **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–Ω–∞–Ω ‚úÖ
- **–ü—Ä–∏—á–∏–Ω–∞**: 4 –≥–æ–ª–æ—Å–∞ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ > 2 –ø—Ä–æ–ø—É—Å–∫–∞ –∏ > 6/2 = 3

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ù–∏—á—å—è
- **–ì–æ–ª–æ—Å–∞**: 2 –∑–∞ Player2, 2 –∑–∞ Player3, 2 –ø—Ä–æ–ø—É—Å–∫–∞
- **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞**: Player2 –∏–∑–≥–Ω–∞–Ω (–ø–µ—Ä–≤—ã–π –≤ —Å–ø–∏—Å–∫–µ) ‚ùå
- **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞**: –ù–∏–∫—Ç–æ –Ω–µ –∏–∑–≥–Ω–∞–Ω ‚úÖ
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–∏—á—å—è –º–µ–∂–¥—É Player2 –∏ Player3

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_voting_details()`:
```python
def get_voting_details(self) -> Dict[str, any]:
    return {
        "total_votes": 6,
        "skip_votes": 5,
        "votes_for_exile": 1,
        "vote_breakdown": {
            "Player1": "–∑–∞ Player2",
            "Player2": "–ø—Ä–æ–ø—É—Å—Ç–∏–ª",
            "Player3": "–ø—Ä–æ–ø—É—Å—Ç–∏–ª",
            "Player4": "–ø—Ä–æ–ø—É—Å—Ç–∏–ª",
            "Player5": "–ø—Ä–æ–ø—É—Å—Ç–∏–ª",
            "Player6": "–ø—Ä–æ–ø—É—Å—Ç–∏–ª"
        },
        "voting_summary": "–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –ø—Ä–æ–ø—É—Å–∫ (5 –∏–∑ 6)",
        "vote_counts": {2: 1}
    }
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –±–æ—Ç–µ:
```
ü§ù –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –ø—Ä–æ–ø—É—Å–∫ (5 –∏–∑ 6)

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è:
‚Ä¢ Player1: –∑–∞ Player2
‚Ä¢ Player2: –ø—Ä–æ–ø—É—Å—Ç–∏–ª
‚Ä¢ Player3: –ø—Ä–æ–ø—É—Å—Ç–∏–ª
‚Ä¢ Player4: –ø—Ä–æ–ø—É—Å—Ç–∏–ª
‚Ä¢ Player5: –ø—Ä–æ–ø—É—Å—Ç–∏–ª
‚Ä¢ Player6: –ø—Ä–æ–ø—É—Å—Ç–∏–ª

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ –í—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤: 6
‚Ä¢ –ó–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ: 1
‚Ä¢ –ü—Ä–æ–ø—É—Å—Ç–∏–ª–∏: 5
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã:
- **`test_voting_logic_fixes.py`** - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- **`debug_voting.py`** - –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:
- ‚úÖ –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –ø—Ä–æ–ø—É—Å–∫
- ‚úÖ –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–æ–ª–æ—Å–æ–≤ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ
- ‚úÖ –ù–∏—á—å—è –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏
- ‚úÖ –í—Å–µ –∏–≥—Ä–æ–∫–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```
–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 11
–ü—Ä–æ–π–¥–µ–Ω–æ: 11 ‚úÖ
–ü—Ä–æ–≤–∞–ª–µ–Ω–æ: 0 ‚ùå
–ü–æ–∫—Ä—ã—Ç–∏–µ: 100%
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### 1. –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞
- –ü—Ä–æ–ø—É—Å–∫ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
- –ù–µ–ª—å–∑—è –∏–∑–≥–Ω–∞—Ç—å –∏–≥—Ä–æ–∫–∞ –≥–æ–ª–æ—Å–æ–º –º–µ–Ω—å—à–∏–Ω—Å—Ç–≤–∞

### 2. –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤
- –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω —Ä–µ—à–µ–Ω–∏—è

### 3. –õ–æ–≥–∏—á–Ω–æ—Å—Ç—å
- –ß–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –£—á–µ—Ç –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç

**–õ–æ–≥–∏–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–Ω–µ–Ω–∏–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ

–¢–µ–ø–µ—Ä—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏: —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –∑–∞ –Ω–µ–≥–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤!
