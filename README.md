# üå≤ ForestMafia Bot - Telegram Bot –¥–ª—è –∏–≥—Ä—ã "–õ–µ—Å –∏ –í–æ–ª–∫–∏"

[![Production Ready](https://img.shields.io/badge/Production-Ready-green.svg)](https://github.com/your-username/forest-mafia-bot)
[![Python 3.11+](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org)
[![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-blue.svg)](https://core.telegram.org/bots)
[![Database](https://img.shields.io/badge/Database-PostgreSQL-blue.svg)](https://postgresql.org)

**ForestMafia Bot** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –∏–≥—Ä—ã "–õ–µ—Å –∏ –í–æ–ª–∫–∏" —Å –ª–µ—Å–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å—é –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

## ‚ú® **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

- üéÆ **5 —Ä–æ–ª–µ–π**: –í–æ–ª–∫–∏, –õ–∏—Å–∞, –ó–∞–π—Ü—ã, –ö—Ä–æ—Ç, –ë–æ–±–µ—Ä
- üå≤ **–õ–µ—Å–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞** —Å —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å –ø–æ–ª–Ω–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤** –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚öôÔ∏è **–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –ª—é–±–æ–≥–æ —á–∞—Ç–∞
- üöÄ **–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** - –¥–µ–ø–ª–æ–π –∑–∞ 5 –º–∏–Ω—É—Ç

## üéÆ –û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã

"–õ–µ—Å –∏ –í–æ–ª–∫–∏" - —ç—Ç–æ –∫–æ–º–∞–Ω–¥–Ω–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ä–æ–ª–µ–≤–∞—è –∏–≥—Ä–∞, –≥–¥–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã:

### üê∫ –•–∏—â–Ω–∏–∫–∏
- **–í–æ–ª–∫–∏** - —Å—Ç–∞—è, –ø–æ –Ω–æ—á–∞–º —Å—ä–µ–¥–∞—é—â–∞—è –ø–æ –∑–≤–µ—Ä—é
- **–õ–∏—Å–∞** - –≤–æ—Ä—É–µ—Ç –∑–∞–ø–∞—Å—ã –µ–¥—ã, –¥–≤–∞–∂–¥—ã –æ–±–≤–æ—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–≤–µ—Ä—å —É—Ö–æ–¥–∏—Ç –∏–∑ –∏–≥—Ä—ã

### üê∞ –¢—Ä–∞–≤–æ—è–¥–Ω—ã–µ
- **–ó–∞–π—Ü—ã** - –º–∏—Ä–Ω—ã–µ –∑–≤–µ—Ä—É—à–∫–∏, —Ç–æ–ª—å–∫–æ –¥–Ω–µ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- **–ö—Ä–æ—Ç** - —Ä–æ–µ—Ç –Ω–æ—Ä–∫–∏, —É–∑–Ω–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥—Ä—É–≥–∏—Ö –∑–≤–µ—Ä–µ–π
- **–ë–æ–±—ë—Ä** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫—Ä–∞–¥–µ–Ω–Ω—ã–µ –∑–∞–ø–∞—Å—ã

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞**
   - –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) –≤ Telegram
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.production` –≤ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω:
   ```bash
   cp env.production .env
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ BOT_TOKEN=your_actual_token
   ```

3. **–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞**
   ```bash
   python bot.py
   ```

### üê≥ –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker. –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å–º. –≤ [DEPLOYMENT.md](DEPLOYMENT.md).

**–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π:**
```bash
chmod +x deploy.sh
./deploy.sh
```

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/rules` - –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
- `/join` - –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ
- `/leave` - –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É (—Ç–æ–ª—å–∫–æ –¥–æ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã)
- `/start_game` - –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `/end_game` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `/force_end` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)
- `/status` - —Å—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã
- `/stats` - –≤–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä
- `/stats top` - —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –ø–æ–±–µ–¥–∞–º

## üéØ –ö–∞–∫ –∏–≥—Ä–∞—Ç—å

### –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
1. –ò–≥—Ä–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–∞–Ω–¥—É `/join` –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/start_game` –∫–æ–≥–¥–∞ –Ω–∞–±—Ä–∞–ª–æ—Å—å –º–∏–Ω–∏–º—É–º 6 –∏–≥—Ä–æ–∫–æ–≤
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ–ª–∏ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å
1. **–ù–æ—á—å** - –∏–≥—Ä–æ–∫–∏ —Å –Ω–æ—á–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ —Å–æ–≤–µ—Ä—à–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è
2. **–î–µ–Ω—å** - –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –æ–±—Å—É–∂–¥–∞—é—Ç —Å–æ–±—ã—Ç–∏—è (5 –º–∏–Ω—É—Ç)
3. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** - –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ –∏–∑–≥–Ω–∞–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã)
4. –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ –¥–æ –ø–æ–±–µ–¥—ã –æ–¥–Ω–æ–π –∏–∑ –∫–æ–º–∞–Ω–¥

### –ü–æ–±–µ–¥–∞
- **–¢—Ä–∞–≤–æ—è–¥–Ω—ã–µ** –ø–æ–±–µ–∂–¥–∞—é—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ —Ö–∏—â–Ω–∏–∫–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã
- **–•–∏—â–Ω–∏–∫–∏** –ø–æ–±–µ–∂–¥–∞—é—Ç, –∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–≤–æ—è–¥–Ω—ã—Ö —Ä–∞–≤–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ö–∏—â–Ω–∏–∫–æ–≤

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- python-telegram-bot 20.7+
- python-dotenv 1.0.0+
- SQLAlchemy 2.0+ (–¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
- Alembic (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
forest_wolves_bot/
‚îú‚îÄ‚îÄ bot.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ game_logic.py             # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ night_actions.py          # –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database.py               # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ database_adapter.py       # –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îú‚îÄ‚îÄ database_services.py      # –°–µ—Ä–≤–∏—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ docker-compose.yml        # Docker —Å PostgreSQL
‚îú‚îÄ‚îÄ docker-compose.sqlite.yml # Docker —Å SQLite
‚îú‚îÄ‚îÄ deploy.sh                 # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–∞–≤–∞ –±–æ—Ç–∞**: –ë–æ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∞–≤–æ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏" –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
2. **–ú–∏–Ω–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤**: 6 –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã (3 –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ)
3. **–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤**: 12 –∏–≥—Ä–æ–∫–æ–≤ –≤ –æ–¥–Ω–æ–π –∏–≥—Ä–µ
4. **–¢–∞–π–º–µ—Ä—ã**: –ò–≥—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –º–µ–∂–¥—É —Ñ–∞–∑–∞–º–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ git!

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –§–∞–π–ª `.env` –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ git —á–µ—Ä–µ–∑ `.gitignore`
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø–æ–ª–Ω—É—é –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**:

- **SQLite** - –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **PostgreSQL** - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü** –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä** - –∏–≥—Ä—ã –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–±–µ–¥, —Ä–æ–ª–µ–π, –¥–µ–π—Å—Ç–≤–∏–π
- **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π** - –ø–æ–ª–Ω—ã–π –ª–æ–≥ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [DATABASE_INTEGRATION_REPORT.md](DATABASE_INTEGRATION_REPORT.md)

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ò–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –±–æ—Ç–∞ –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫–∏, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –∏–ª–∏ pull requests!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.
