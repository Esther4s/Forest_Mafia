# üê∫ –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤–æ–ª–∫–∞

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–£ –≤–æ–ª–∫–∞ –Ω–µ –±—ã–ª–æ –∫–Ω–æ–ø–∫–∏ "—Å–æ–≤–µ—Ä—à–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ" –Ω–æ—á—å—é –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ callback_data –º–µ–∂–¥—É `night_interface.py` –∏ `callback_handler.py`.

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–û–±–Ω–æ–≤–ª–µ–Ω night_interface.py**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å —Å —Ñ–æ—Ä–º–∞—Ç–æ–º `night_wolf_{target_id}`
- **–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω —Ñ–æ—Ä–º–∞—Ç –Ω–∞ `wolf_kill_{target_id}` –¥–ª—è –≤–æ–ª–∫–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π:
  - –í–æ–ª–∫: `wolf_kill_{target_id}` –∏ `wolf_skip`
  - –õ–∏—Å–∞: `fox_steal_{target_id}` –∏ `fox_skip`
  - –ë–æ–±—ë—Ä: `beaver_help_{target_id}` –∏ `beaver_skip`
  - –ö—Ä–æ—Ç: `mole_check_{target_id}` –∏ `mole_skip`

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω callback_handler.py**
- **–î–æ–±–∞–≤–ª–µ–Ω–æ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥" –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –§–æ—Ä–º–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –∫—Ä–æ—Ç–∞ (`check` –≤–º–µ—Å—Ç–æ `dig`)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –§–æ—Ä–º–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π –±–æ–±—Ä–∞ (`help` –≤–º–µ—Å—Ç–æ `protect`)

### 3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å bot.py**
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ bot.py —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–ü–∞—Ç—Ç–µ—Ä–Ω—ã**: `^wolf_`, `^fox_`, `^mole_`, `^beaver_` —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### night_interface.py
```python
# –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç
callback_data=f"night_{actions['type']}_{target.user_id}"

# –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
if actions['type'] == 'wolf':
    callback_data = f"wolf_kill_{target.user_id}"
elif actions['type'] == 'fox':
    callback_data = f"fox_steal_{target.user_id}"
# ... –∏ —Ç.–¥.
```

### callback_handler.py
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞ —Ö–æ–¥–∞
elif len(parts) >= 2 and parts[1] == "skip":
    success = night_actions.skip_action(user_id)
    if success:
        await query.edit_message_text("‚è≠Ô∏è –í—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —Ö–æ–¥")
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### üéâ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!**
- ‚úÖ –í–æ–ª–∫ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –í—Å–µ —Ä–æ–ª–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã callback_data
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è

### üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_wolf_night_actions.py`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ñ–æ—Ä–º–∞—Ç—ã callback_data
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

## üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

–¢–µ–ø–µ—Ä—å –≤–æ–ª–∫ –∏ –¥—Ä—É–≥–∏–µ —Ä–æ–ª–∏ —Å –Ω–æ—á–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏:
- **–í–æ–ª–∫**: "–£–±–∏—Ç—å {—Ü–µ–ª—å}" –∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥"
- **–õ–∏—Å–∞**: "–û–±–æ–∫—Ä–∞—Å—Ç—å {—Ü–µ–ª—å}" –∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥"  
- **–ë–æ–±—ë—Ä**: "–ü–æ–º–æ—á—å {—Ü–µ–ª—å}" –∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥"
- **–ö—Ä–æ—Ç**: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å {—Ü–µ–ª—å}" –∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥"

–í—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.

---
*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç callback_data –¥–ª—è –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π*
