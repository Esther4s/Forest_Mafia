# üéÆ –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

## üìã –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚úÖ **–ú–∏–Ω–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–≥—Ä–∞ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ 6 –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ 3 –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω –º–∏–Ω–∏–º—É–º –Ω–∞ **3 –∏–≥—Ä–æ–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤**.

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `src/application/bot_service.py` - —Å—Ç—Ä–æ–∫–∞ 122
- `src/domain/entities.py` - —Å—Ç—Ä–æ–∫–∞ 200  
- `game_logic.py` - —Å—Ç—Ä–æ–∫–∞ 223
- `bot.py` - —Å—Ç—Ä–æ–∫–∞ 2251
- `bot_handlers.py` - —Å—Ç—Ä–æ–∫–∞ 224

**–ö–æ–¥:**
```python
# –ë—ã–ª–æ:
min_players = 3 if game.is_test_mode else 6

# –°—Ç–∞–ª–æ:
min_players = 3  # –ú–∏–Ω–∏–º—É–º 3 –∏–≥—Ä–æ–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
```

### 2. ‚úÖ **–í–æ–ª–∫ –Ω–µ –ø–æ–ª—É—á–∞–ª –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π**

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–ª–∫ –Ω–µ –º–æ–≥ —Å–æ–≤–µ—Ä—à–∞—Ç—å –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑-–∑–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Ä–æ–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Ä–æ–ª–∏ –≤ `night_interface.py`.

**–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:**
- `night_interface.py` - –º–µ—Ç–æ–¥ `send_role_reminders`

**–ö–æ–¥:**
```python
# –ë—ã–ª–æ:
await context.bot.send_message(chat_id=player.user_id, text=reminder_text)
await self.send_night_actions_menu(context, player.user_id)

# –°—Ç–∞–ª–æ:
await self.send_night_actions_menu(context, player.user_id)
```

### 3. ‚úÖ **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–æ–ª—å—é**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Å–≤–æ–µ–π —Ä–æ–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `bot.py`.

**–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:**
- `bot.py` - —Å—Ç—Ä–æ–∫–∞ 2862

**–ö–æ–¥:**
```python
# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–æ–ª–∏ –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º (—Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–π –Ω–æ—á–∏)
if game.current_round == 1:
    await self.send_roles_to_players(context, game)

# –º–µ–Ω—é –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (—Ä–æ–ª–∏ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—ã—à–µ, –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º)
await self.send_night_actions_to_players(context, game)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. ‚úÖ –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 3 –∏–≥—Ä–æ–∫–æ–≤
2. ‚úÖ –í–æ–ª–∫ –ø–æ–ª—É—á–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Ä–æ–ª–∏
4. ‚úÖ –í—Å–µ —Ä–æ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞
python -c "import src.application.bot_service; print('‚úÖ bot_service.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è')"
python -c "import src.domain.entities; print('‚úÖ entities.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è')"
python -c "import game_logic; print('‚úÖ game_logic.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è')"
python -c "import night_interface; print('‚úÖ night_interface.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è')"
```

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´**

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ –∫–æ–º–º–∏—Ç—É:**
```bash
git add src/application/bot_service.py
git add src/domain/entities.py  
git add game_logic.py
git add bot.py
git add bot_handlers.py
git add night_interface.py
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∏–Ω–∏–º—É–º–æ–º –∏–≥—Ä–æ–∫–æ–≤, –Ω–æ—á–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –≤–æ–ª–∫–∞ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π"
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

- **–ú–∏–Ω–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤:** 3 (–¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤)
- **–ù–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤–æ–ª–∫–∞:** ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:** ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –¥–µ–ø–ª–æ—é! üéâ**
